2023-10-24 21:26:40.892 [restartedMain] INFO  c.example.oauth21.Oauth21Application - Starting Oauth21Application using Java 17.0.6 with PID 7254 (/Users/kevin/Documents/study_workspace/oauth21/target/classes started by kevin in /Users/kevin/Documents/study_workspace/oauth21)
2023-10-24 21:26:40.897 [restartedMain] INFO  c.example.oauth21.Oauth21Application - The following 1 profile is active: "dev"
2023-10-24 21:26:40.919 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-24 21:26:40.919 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-24 21:26:41.242 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2023-10-24 21:26:41.243 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-10-24 21:26:41.260 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2023-10-24 21:26:41.571 [restartedMain] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2023-10-24 21:26:41.581 [restartedMain] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2023-10-24 21:26:41.581 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 662 ms
2023-10-24 21:26:41.738 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [com/example/oauth21/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: authorizationService cannot be null
2023-10-24 21:26:41.744 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-10-24 21:26:41.752 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [com/example/oauth21/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: authorizationService cannot be null
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.oauth21.Oauth21Application.main(Oauth21Application.java:15)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: authorizationService cannot be null
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)
	... 24 common frames omitted
Caused by: java.lang.IllegalArgumentException: authorizationService cannot be null
	at org.springframework.util.Assert.notNull(Assert.java:204)
	at com.example.oauth21.authentication.password.OAuth2ResourceOwnerPasswordAuthenticationProvider.<init>(OAuth2ResourceOwnerPasswordAuthenticationProvider.java:73)
	at com.example.oauth21.config.AuthorizationServerConfig.addCustomOAuth2ResourceOwnerPasswordAuthenticationProvider(AuthorizationServerConfig.java:148)
	at com.example.oauth21.config.AuthorizationServerConfig.authorizationServerSecurityFilterChain(AuthorizationServerConfig.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 25 common frames omitted
2023-10-24 21:27:25.389 [restartedMain] INFO  c.example.oauth21.Oauth21Application - Starting Oauth21Application using Java 17.0.6 with PID 7385 (/Users/kevin/Documents/study_workspace/oauth21/target/classes started by kevin in /Users/kevin/Documents/study_workspace/oauth21)
2023-10-24 21:27:25.390 [restartedMain] INFO  c.example.oauth21.Oauth21Application - The following 1 profile is active: "dev"
2023-10-24 21:27:25.410 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-24 21:27:25.411 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-24 21:27:25.710 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2023-10-24 21:27:25.711 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-10-24 21:27:25.725 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-10-24 21:27:25.997 [restartedMain] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2023-10-24 21:27:26.006 [restartedMain] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2023-10-24 21:27:26.006 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 595 ms
2023-10-24 21:27:26.154 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [com/example/oauth21/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: authorizationService cannot be null
2023-10-24 21:27:26.160 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-10-24 21:27:26.168 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [com/example/oauth21/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: authorizationService cannot be null
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.oauth21.Oauth21Application.main(Oauth21Application.java:15)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: authorizationService cannot be null
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)
	... 24 common frames omitted
Caused by: java.lang.IllegalArgumentException: authorizationService cannot be null
	at org.springframework.util.Assert.notNull(Assert.java:204)
	at com.example.oauth21.authentication.password.OAuth2ResourceOwnerPasswordAuthenticationProvider.<init>(OAuth2ResourceOwnerPasswordAuthenticationProvider.java:73)
	at com.example.oauth21.config.AuthorizationServerConfig.addCustomOAuth2ResourceOwnerPasswordAuthenticationProvider(AuthorizationServerConfig.java:150)
	at com.example.oauth21.config.AuthorizationServerConfig.authorizationServerSecurityFilterChain(AuthorizationServerConfig.java:141)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 25 common frames omitted
2023-10-24 21:28:25.994 [restartedMain] INFO  c.example.oauth21.Oauth21Application - Starting Oauth21Application using Java 17.0.6 with PID 7545 (/Users/kevin/Documents/study_workspace/oauth21/target/classes started by kevin in /Users/kevin/Documents/study_workspace/oauth21)
2023-10-24 21:28:25.994 [restartedMain] INFO  c.example.oauth21.Oauth21Application - The following 1 profile is active: "dev"
2023-10-24 21:28:26.015 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-24 21:28:26.015 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-24 21:28:26.319 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2023-10-24 21:28:26.320 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-10-24 21:28:26.334 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2023-10-24 21:28:26.616 [restartedMain] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2023-10-24 21:28:26.625 [restartedMain] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2023-10-24 21:28:26.625 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 609 ms
2023-10-24 21:31:30.136 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [com/example/oauth21/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: authorizationService cannot be null
2023-10-24 21:31:30.143 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-10-24 21:31:30.153 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [com/example/oauth21/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: authorizationService cannot be null
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.oauth21.Oauth21Application.main(Oauth21Application.java:15)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: authorizationService cannot be null
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)
	... 24 common frames omitted
Caused by: java.lang.IllegalArgumentException: authorizationService cannot be null
	at org.springframework.util.Assert.notNull(Assert.java:204)
	at com.example.oauth21.authentication.password.OAuth2ResourceOwnerPasswordAuthenticationProvider.<init>(OAuth2ResourceOwnerPasswordAuthenticationProvider.java:73)
	at com.example.oauth21.config.AuthorizationServerConfig.addCustomOAuth2ResourceOwnerPasswordAuthenticationProvider(AuthorizationServerConfig.java:148)
	at com.example.oauth21.config.AuthorizationServerConfig.authorizationServerSecurityFilterChain(AuthorizationServerConfig.java:91)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 25 common frames omitted
2023-10-24 21:31:32.327 [restartedMain] INFO  c.example.oauth21.Oauth21Application - Starting Oauth21Application using Java 17.0.6 with PID 8040 (/Users/kevin/Documents/study_workspace/oauth21/target/classes started by kevin in /Users/kevin/Documents/study_workspace/oauth21)
2023-10-24 21:31:32.328 [restartedMain] INFO  c.example.oauth21.Oauth21Application - The following 1 profile is active: "dev"
2023-10-24 21:31:32.349 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-24 21:31:32.349 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-24 21:31:32.649 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2023-10-24 21:31:32.651 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-10-24 21:31:32.664 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-10-24 21:31:32.938 [restartedMain] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2023-10-24 21:31:32.946 [restartedMain] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2023-10-24 21:31:32.946 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 597 ms
2023-10-24 21:31:41.017 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-10-24 21:31:41.188 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5ab42f41
2023-10-24 21:31:41.189 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-10-24 21:31:41.368 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b54843a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3764df70, org.springframework.security.web.context.SecurityContextHolderFilter@2ae1c70c, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2c9892bf, org.springframework.security.web.header.HeaderWriterFilter@19299721, org.springframework.security.web.csrf.CsrfFilter@78e5a4e1, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@68eb2017, org.springframework.security.web.authentication.logout.LogoutFilter@5b6a04b1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@558a7f89, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@40f31b1e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@641c4bfc, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@43478267, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@59f52b02, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@47bc563b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@27397cbc, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@71da5a23, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7b74ce78, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@36bcd490, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@622b93bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@104c868a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1649b03a, org.springframework.security.web.access.ExceptionTranslationFilter@66367f93, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@75765159, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@4166d6bf, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@35399ea7, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@307a9d5, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@47f2586a]
2023-10-24 21:31:41.467 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@373f37f6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62a6272e, org.springframework.security.web.context.SecurityContextHolderFilter@259dcac3, org.springframework.security.web.header.HeaderWriterFilter@18dd288c, org.springframework.security.web.csrf.CsrfFilter@7ac4eb7c, org.springframework.security.web.authentication.logout.LogoutFilter@46f93d30, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@30e57700, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@22ff28d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@75e455d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78df4a07, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c11ebc8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79e0110d, org.springframework.security.web.access.ExceptionTranslationFilter@5f6b6430, org.springframework.security.web.access.intercept.AuthorizationFilter@25e51a33]
2023-10-24 21:31:41.697 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-10-24 21:31:41.709 [restartedMain] INFO  io.undertow - starting server: Undertow - 2.3.10.Final
2023-10-24 21:31:41.713 [restartedMain] INFO  org.xnio - XNIO version 3.8.8.Final
2023-10-24 21:31:41.718 [restartedMain] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.8.Final
2023-10-24 21:31:41.732 [restartedMain] INFO  org.jboss.threads - JBoss Threads version 3.5.0.Final
2023-10-24 21:31:41.750 [restartedMain] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 9000 (http)
2023-10-24 21:31:41.756 [restartedMain] INFO  c.example.oauth21.Oauth21Application - Started Oauth21Application in 9.643 seconds (process running for 9.916)
2023-10-24 21:31:58.290 [main] INFO  c.e.o.DefaultAuthorizationServerApplicationTests - Starting DefaultAuthorizationServerApplicationTests using Java 17.0.6 with PID 8102 (started by kevin in /Users/kevin/Documents/study_workspace/oauth21)
2023-10-24 21:31:58.291 [main] INFO  c.e.o.DefaultAuthorizationServerApplicationTests - The following 1 profile is active: "dev"
2023-10-24 21:31:58.594 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2023-10-24 21:31:58.595 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-10-24 21:31:58.610 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2023-10-24 21:31:58.925 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2023-10-24 21:31:58.933 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2023-10-24 21:31:58.934 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 635 ms
2023-10-24 21:31:59.113 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-10-24 21:31:59.262 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77eb607e
2023-10-24 21:31:59.263 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-10-24 21:31:59.426 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@26d7cb0d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23e9dd78, org.springframework.security.web.context.SecurityContextHolderFilter@6f655dbd, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@3dad535f, org.springframework.security.web.header.HeaderWriterFilter@32513dea, org.springframework.security.web.csrf.CsrfFilter@280d6a20, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@4cadd4d4, org.springframework.security.web.authentication.logout.LogoutFilter@4449b273, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@5cfa2ac5, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@7672960e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@36638b59, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@484302ee, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@52eca410, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@4f4d05b3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19739906, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@93f15f6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@470c4229, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@24e2355c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ac1b6c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5896b9f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6408be5, org.springframework.security.web.access.ExceptionTranslationFilter@73da303e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@398694a6, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@1e7cfd49, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@2168def, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4f2fdf3d, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@6c9151c1]
2023-10-24 21:31:59.529 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@460b77d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cb662e8, org.springframework.security.web.context.SecurityContextHolderFilter@2361365c, org.springframework.security.web.header.HeaderWriterFilter@35af1558, org.springframework.security.web.csrf.CsrfFilter@72b10258, org.springframework.security.web.authentication.logout.LogoutFilter@2d88c1bf, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@33399052, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@11c25846, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12bcf7c6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59b853aa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ab90d01, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13f2d42c, org.springframework.security.web.access.ExceptionTranslationFilter@77ec9fdb, org.springframework.security.web.access.intercept.AuthorizationFilter@3a116ca6]
2023-10-24 21:31:59.772 [main] INFO  io.undertow.servlet - Initializing Spring TestDispatcherServlet ''
2023-10-24 21:31:59.772 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2023-10-24 21:31:59.773 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2023-10-24 21:31:59.994 [main] INFO  io.undertow - starting server: Undertow - 2.3.10.Final
2023-10-24 21:31:59.998 [main] INFO  org.xnio - XNIO version 3.8.8.Final
2023-10-24 21:32:00.001 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.8.Final
2023-10-24 21:32:00.039 [main] INFO  org.jboss.threads - JBoss Threads version 3.5.0.Final
2023-10-24 21:32:00.059 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 50983 (http)
2023-10-24 21:32:00.065 [main] INFO  c.e.o.DefaultAuthorizationServerApplicationTests - Started DefaultAuthorizationServerApplicationTests in 1.956 seconds (process running for 2.369)
2023-10-24 21:32:00.562 [XNIO-1 task-2] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-10-24 21:32:00.563 [XNIO-1 task-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-10-24 21:32:00.563 [XNIO-1 task-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2023-10-24 21:32:00.874 [main] INFO  c.e.o.DefaultAuthorizationServerApplicationTests - <!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Spring Authorization Server sample</title>
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
</head>
<body>
<div class="container">
    <div class="row py-5">
        <div class="col-md-6">
            <h2 class="text-danger">Error</h2>
            <p>Forbidden</p>
        </div>
    </div>
</div>
</body>
</html>
2023-10-24 21:32:00.881 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.3.10.Final
2023-10-24 21:32:00.890 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-10-24 21:32:00.895 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-10-24 21:44:33.929 [main] INFO  c.e.o.DefaultAuthorizationServerApplicationTests - Starting DefaultAuthorizationServerApplicationTests using Java 17.0.6 with PID 10115 (started by kevin in /Users/kevin/Documents/study_workspace/oauth21)
2023-10-24 21:44:33.930 [main] INFO  c.e.o.DefaultAuthorizationServerApplicationTests - The following 1 profile is active: "dev"
2023-10-24 21:44:34.197 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2023-10-24 21:44:34.199 [Thread-5] INFO  io.undertow - stopping server: Undertow - 2.3.10.Final
2023-10-24 21:44:34.200 [Thread-5] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2023-10-24 21:44:34.277 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2023-10-24 21:44:34.278 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-10-24 21:44:34.298 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2023-10-24 21:44:34.313 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-10-24 21:44:34.318 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-10-24 21:44:34.357 [restartedMain] INFO  c.example.oauth21.Oauth21Application - Starting Oauth21Application using Java 17.0.6 with PID 8040 (/Users/kevin/Documents/study_workspace/oauth21/target/classes started by kevin in /Users/kevin/Documents/study_workspace/oauth21)
2023-10-24 21:44:34.358 [restartedMain] INFO  c.example.oauth21.Oauth21Application - The following 1 profile is active: "dev"
2023-10-24 21:44:34.453 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2023-10-24 21:44:34.453 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-10-24 21:44:34.456 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2023-10-24 21:44:34.521 [restartedMain] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2023-10-24 21:44:34.521 [restartedMain] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2023-10-24 21:44:34.521 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 162 ms
2023-10-24 21:44:34.565 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [com/example/oauth21/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: Error creating bean with name 'sessionRegistry' defined in class path resource [com/example/oauth21/config/DefaultSecurityConfig.class]: Unsatisfied dependency expressed through method 'sessionRegistry' parameter 0: No qualifying bean of type 'org.springframework.session.data.redis.RedisIndexedSessionRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2023-10-24 21:44:34.568 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-10-24 21:44:34.578 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method sessionRegistry in com.example.oauth21.config.DefaultSecurityConfig required a bean of type 'org.springframework.session.data.redis.RedisIndexedSessionRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.session.data.redis.RedisIndexedSessionRepository' in your configuration.

2023-10-24 21:44:34.653 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2023-10-24 21:44:34.663 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2023-10-24 21:44:34.664 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 725 ms
2023-10-24 21:44:34.866 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [com/example/oauth21/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: Error creating bean with name 'sessionRegistry' defined in class path resource [com/example/oauth21/config/DefaultSecurityConfig.class]: Unsatisfied dependency expressed through method 'sessionRegistry' parameter 0: No qualifying bean of type 'org.springframework.session.data.redis.RedisIndexedSessionRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2023-10-24 21:44:34.873 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-10-24 21:44:34.885 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method sessionRegistry in com.example.oauth21.config.DefaultSecurityConfig required a bean of type 'org.springframework.session.data.redis.RedisIndexedSessionRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.session.data.redis.RedisIndexedSessionRepository' in your configuration.

2023-10-24 21:44:34.888 [main] ERROR o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.example.oauth21.DefaultAuthorizationServerApplicationTests@4afdfc0f]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@1f42366 testClass = com.example.oauth21.DefaultAuthorizationServerApplicationTests, locations = [], classes = [com.example.oauth21.Oauth21Application], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@46c662f2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2034b64c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1cf6d1be, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@28261e8e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7ce69770, org.springframework.boot.test.context.SpringBootTestAnnotation@5d367724], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:143)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [com/example/oauth21/config/AuthorizationServerConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: Error creating bean with name 'sessionRegistry' defined in class path resource [com/example/oauth21/config/DefaultSecurityConfig.class]: Unsatisfied dependency expressed through method 'sessionRegistry' parameter 0: No qualifying bean of type 'org.springframework.session.data.redis.RedisIndexedSessionRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)
	... 72 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception with message: Error creating bean with name 'sessionRegistry' defined in class path resource [com/example/oauth21/config/DefaultSecurityConfig.class]: Unsatisfied dependency expressed through method 'sessionRegistry' parameter 0: No qualifying bean of type 'org.springframework.session.data.redis.RedisIndexedSessionRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)
	... 97 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sessionRegistry' defined in class path resource [com/example/oauth21/config/DefaultSecurityConfig.class]: Unsatisfied dependency expressed through method 'sessionRegistry' parameter 0: No qualifying bean of type 'org.springframework.session.data.redis.RedisIndexedSessionRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:651)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1312)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:321)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2ConfigurerUtils.getOptionalBean(OAuth2ConfigurerUtils.java:201)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer.initSessionRegistry(OAuth2AuthorizationServerConfigurer.java:398)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer.init(OAuth2AuthorizationServerConfigurer.java:278)
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer.init(OAuth2AuthorizationServerConfigurer.java:83)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:344)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:306)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at com.example.oauth21.config.AuthorizationServerConfig.authorizationServerSecurityFilterChain(AuthorizationServerConfig.java:136)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 98 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.session.data.redis.RedisIndexedSessionRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1824)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1383)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 124 common frames omitted
2023-10-24 21:45:57.558 [main] INFO  c.e.o.DefaultAuthorizationServerApplicationTests - Starting DefaultAuthorizationServerApplicationTests using Java 17.0.6 with PID 10338 (started by kevin in /Users/kevin/Documents/study_workspace/oauth21)
2023-10-24 21:45:57.559 [main] INFO  c.e.o.DefaultAuthorizationServerApplicationTests - The following 1 profile is active: "dev"
2023-10-24 21:45:57.847 [restartedMain] INFO  c.example.oauth21.Oauth21Application - Starting Oauth21Application using Java 17.0.6 with PID 8040 (/Users/kevin/Documents/study_workspace/oauth21/target/classes started by kevin in /Users/kevin/Documents/study_workspace/oauth21)
2023-10-24 21:45:57.847 [restartedMain] INFO  c.example.oauth21.Oauth21Application - The following 1 profile is active: "dev"
2023-10-24 21:45:57.910 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2023-10-24 21:45:57.911 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-10-24 21:45:57.933 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2023-10-24 21:45:57.935 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2023-10-24 21:45:57.936 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-10-24 21:45:57.938 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2023-10-24 21:45:57.991 [restartedMain] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2023-10-24 21:45:57.991 [restartedMain] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2023-10-24 21:45:57.991 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 143 ms
2023-10-24 21:45:58.031 [restartedMain] WARN  o.s.c.LocalVariableTableParameterNameDiscoverer - Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.example.oauth21.config.DefaultSecurityConfig
2023-10-24 21:45:58.039 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2023-10-24 21:45:58.050 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@552e9cea
2023-10-24 21:45:58.051 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2023-10-24 21:45:58.131 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1525/0x0000000801428d48@1da85608 with [org.springframework.security.web.session.DisableEncodeUrlFilter@89b770, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5067b215, org.springframework.security.web.context.SecurityContextHolderFilter@8e3f381, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@7f0c4613, org.springframework.security.web.header.HeaderWriterFilter@60f61e78, org.springframework.security.web.csrf.CsrfFilter@5f266717, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@3099e596, org.springframework.security.web.authentication.logout.LogoutFilter@6d513267, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1acdd5fd, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@23bb2e90, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@768786ba, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@645d3f12, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@7224434f, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7eeb024d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@d6ebdc8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64113355, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a6c67b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@289fd52c, org.springframework.security.web.access.ExceptionTranslationFilter@362f139d, org.springframework.security.web.access.intercept.AuthorizationFilter@49af914b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@16abd665, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@30f45797, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@44e20e49, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@3e5767eb, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@3574b451]
2023-10-24 21:45:58.163 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@143d0722, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a46c874, org.springframework.security.web.context.SecurityContextHolderFilter@44d90a6f, org.springframework.security.web.header.HeaderWriterFilter@1ac5fd74, org.springframework.security.web.csrf.CsrfFilter@26784d15, org.springframework.security.web.authentication.logout.LogoutFilter@18615d10, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2b6db39a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@243f0fdc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@39f6f069, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20ade704, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@217cc097, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c7159c5, org.springframework.security.web.access.ExceptionTranslationFilter@5f8bcb65, org.springframework.security.web.access.intercept.AuthorizationFilter@100416d7]
2023-10-24 21:45:58.200 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-10-24 21:45:58.207 [restartedMain] INFO  io.undertow - starting server: Undertow - 2.3.10.Final
2023-10-24 21:45:58.209 [restartedMain] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 9000 (http)
2023-10-24 21:45:58.212 [restartedMain] INFO  c.example.oauth21.Oauth21Application - Started Oauth21Application in 0.381 seconds (process running for 866.405)
2023-10-24 21:45:58.213 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2023-10-24 21:45:58.263 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2023-10-24 21:45:58.272 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2023-10-24 21:45:58.273 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 705 ms
2023-10-24 21:45:58.458 [main] WARN  o.s.c.LocalVariableTableParameterNameDiscoverer - Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.example.oauth21.config.DefaultSecurityConfig
2023-10-24 21:45:58.596 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-10-24 21:45:58.774 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@37e64e37
2023-10-24 21:45:58.775 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-10-24 21:45:58.970 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$1184/0x0000000801155270@79fcd194 with [org.springframework.security.web.session.DisableEncodeUrlFilter@73d8c8d7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@361b3ca6, org.springframework.security.web.context.SecurityContextHolderFilter@154b0748, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2e47a71e, org.springframework.security.web.header.HeaderWriterFilter@7c5d36c3, org.springframework.security.web.csrf.CsrfFilter@2bc8caa7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@516037be, org.springframework.security.web.authentication.logout.LogoutFilter@706d2bae, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@3921135e, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@5487a8f1, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6bf28f61, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2d5c160e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@686fb58a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@631678e6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@4be1dce6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6cd7dc74, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ca8bd01, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48333b12, org.springframework.security.web.access.ExceptionTranslationFilter@51b59d58, org.springframework.security.web.access.intercept.AuthorizationFilter@2a5efbb9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@1e66bf2d, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25435731, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@21d3d6ec, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@a30dbc0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@19d9ba89]
2023-10-24 21:45:59.076 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@165454f7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a19c36b, org.springframework.security.web.context.SecurityContextHolderFilter@7b7b1448, org.springframework.security.web.header.HeaderWriterFilter@3afaa39f, org.springframework.security.web.csrf.CsrfFilter@2b561f51, org.springframework.security.web.authentication.logout.LogoutFilter@6963b0bd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3fe5ad73, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@f83d121, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a49919c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60cc20e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25109d84, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38856d6e, org.springframework.security.web.access.ExceptionTranslationFilter@3d5f08d4, org.springframework.security.web.access.intercept.AuthorizationFilter@49741274]
2023-10-24 21:45:59.199 [main] INFO  io.undertow.servlet - Initializing Spring TestDispatcherServlet ''
2023-10-24 21:45:59.199 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2023-10-24 21:45:59.200 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2023-10-24 21:45:59.434 [main] INFO  io.undertow - starting server: Undertow - 2.3.10.Final
2023-10-24 21:45:59.438 [main] INFO  org.xnio - XNIO version 3.8.8.Final
2023-10-24 21:45:59.442 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.8.Final
2023-10-24 21:45:59.487 [main] INFO  org.jboss.threads - JBoss Threads version 3.5.0.Final
2023-10-24 21:45:59.512 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 51490 (http)
2023-10-24 21:45:59.519 [main] INFO  c.e.o.DefaultAuthorizationServerApplicationTests - Started DefaultAuthorizationServerApplicationTests in 2.161 seconds (process running for 2.626)
2023-10-24 21:46:09.056 [XNIO-2 task-2] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-10-24 21:46:09.056 [XNIO-2 task-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-10-24 21:46:09.057 [XNIO-2 task-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-10-24 21:46:09.265 [main] INFO  c.e.o.DefaultAuthorizationServerApplicationTests - {"access_token":"eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJtZXNzYWdpbmctY2xpZW50IiwiYXVkIjoibWVzc2FnaW5nLWNsaWVudCIsIm5iZiI6MTY5ODE1NTE2OSwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo5MDAwIiwiZXhwIjoxNjk4MTU4NzY5LCJjbGFpbS0xIjoidmFsdWUtMSIsImlhdCI6MTY5ODE1NTE2OSwiY2xhaW0tMiI6InZhbHVlLTIifQ.cT71ql4HTNa80lMMrbyRQeexDPMiHqAuTnNHWToEfHPVoL4IeRFpaHmF0b0WLTU9wXj4NC6KhGx_8UahW4IwpTAYb9TaP5LgyLVEXr9yJy9vubrFJbugwdR0RfJma8ydHYfaz4uXAFcMZJhnr80gHwPYZdmI1NgCqBIID8CKR4JlzwrkAZyzRD3krzUCxPZRsCKUHrV1ebFRqHnBKXiLEIWDnwSKD_5ug9QIdktTBBF9aak2pMbbKueNiE-jMv6CxWHd3PvYXUAm6I84lkW2QynC1C2-VX6URG30xcKnttQCUw0woUqbR-sovxCZcD624J-KFHVP_7bn5uNfiO9qlw","token_type":"Bearer","expires_in":3599}
2023-10-24 21:46:09.272 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.3.10.Final
2023-10-24 21:46:09.281 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-10-24 21:46:09.286 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-10-24 21:46:44.396 [XNIO-2 task-3] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.UnsatisfiedServletRequestParameterException: Parameter conditions "success" not met for actual request parameters: continue={}]
